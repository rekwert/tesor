from typing import Dict, List

# --- Конфигурация бирж и пар ---
# Список бирж для отслеживания по WebSocket (ID бирж в нижнем регистре, как в ccxt)
# Добавлены биржи из списка "ок" пользователя.
EXCHANGES_TO_TRACK_WS: List[str] = [
    'binance',
    'kraken',
    'coinbase', # Оставлена по исходному коду, несмотря на пометку "нет" в списке пользователя

]

# Список пар для отслеживания по WebSocket (стандартизированный формат 'BASE/QUOTE')
# Этот список применяется ко ВСЕМ биржам в EXCHANGES_TO_TRACK_WS
PAIRS_TO_TRACK_WS: List[str] = [
    'BTC/USDT',
    'ETH/USDT',
    'LTC/USDT',
    'XRP/USDT',
    'ADA/USDT',
    'DOGE/USDT',

]

# Глубина книги ордеров для подписки по WebSocket
WS_ORDER_BOOK_DEPTH: int = 500 # Например, 500 уровней


# --- Конфигурация комиссий ---

# TODO: Реализовать получение актуальных комиссий через API бирж.
EXCHANGE_TAKER_FEES_PCT: Dict[str, float] = {
    'binance': 0.10, # Пример: 0.10% тейкер
    'coinbase': 0.40, # Пример: 0.40% тейкер (зависит от уровня)
    'kraken': 0.26, # Пример: 0.26% тейкер (зависит от уровня)

    # Добавьте комиссии для других бирж. Используйте реальные значения или получите их через API.
}

# --- Конфигурация сканера ---
# MIN_PROFIT_PCT: Минимальная чистая прибыль (ПОСЛЕ всех комиссий, кроме вывода) в процентах,
# ниже которой возможность не считается интересной и не отправляется на фронтенд.
MIN_PROFIT_PCT: float = 0.0001 # Пример: 0.01% чистой прибыли (попробуйте с малого)
SCANNER_INTERVAL_SECONDS: float = 0.5 # Интервал запуска сканера (например, каждые 0.5 секунды)


# Максимальный объем в БАЗОВОЙ валюте, который сканер будет рассматривать для *одной* стороны сделки
# при поиске арбитража с книгой ордеров.
# Это НЕ фиксированный объем сделки, а ЛИМИТ глубины стакана, которую мы готовы "просканировать".
# executable_volume_base будет рассчитан динамически в пределах этого лимита.
DESIRED_TRADE_VOLUME_BASE: Dict[str, float] = {
    'BTC/USDT': 0.01, # Максимально рассматриваем до 0.01 BTC ликвидности в стакане
    'ETH/USDT': 0.1, # Максимально рассматриваем до 0.1 ETH ликвидности в стакане
    'LTC/USDT': 0.5,
    'XRP/USDT': 500,
    'ADA/USDT': 500,
    'DOGE/USDT': 5000,
    # Добавь лимиты объема для других пар...
    # Эти значения должны быть достаточно большими, чтобы "поймать" ликвидность
    # на интересных уровнях стакана, но не настолько большими, чтобы обработка была слишком долгой.
    # Значения могут потребовать тюнинга.
}